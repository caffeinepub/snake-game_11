{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Create Snake Game",
  "requirements": [
    {
      "id": "REQ-1",
      "summary": "Create a playable Snake game with continuous movement and growth mechanics",
      "acceptanceCriteria": [
        "Snake moves continuously in one direction (up, down, left, right)",
        "Snake grows longer when it eats food",
        "Food spawns at random positions on the game board",
        "Game runs smoothly with consistent frame rate"
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/SnakeGame.tsx",
          "operation": "create",
          "description": "Create the main Snake game component implementing the 2D game canvas, game loop with requestAnimationFrame for smooth rendering, snake state management (position array, direction), food state and random spawning logic, and collision detection for food consumption that triggers snake growth"
        },
        {
          "path": "frontend/src/hooks/useGameLoop.ts",
          "operation": "create",
          "description": "Create a custom hook to manage the game loop using requestAnimationFrame, handling game state updates at consistent intervals, and providing controls to start, pause, and reset the game loop"
        },
        {
          "path": "frontend/src/types/game.ts",
          "operation": "create",
          "description": "Define TypeScript types for game entities including Position, Direction, Snake, Food, and GameState to ensure type safety throughout the game logic"
        }
      ]
    },
    {
      "id": "REQ-2",
      "summary": "Implement arrow key controls for snake direction changes",
      "acceptanceCriteria": [
        "Arrow keys (up, down, left, right) control snake direction",
        "Snake cannot reverse direction (e.g., cannot go left if moving right)",
        "Direction changes are responsive and immediate"
      ],
      "file_operations": [
        {
          "path": "frontend/src/hooks/useKeyboardControls.ts",
          "operation": "create",
          "description": "Create a custom hook to handle keyboard event listeners for arrow key input, implement direction validation logic to prevent 180-degree turns, and return the current direction state"
        },
        {
          "path": "frontend/src/components/SnakeGame.tsx",
          "operation": "modify",
          "description": "Integrate the useKeyboardControls hook to connect arrow key input to snake direction updates, ensuring direction changes are applied before the next game loop iteration"
        }
      ]
    },
    {
      "id": "REQ-3",
      "summary": "Implement collision detection for game over conditions",
      "acceptanceCriteria": [
        "Game ends when snake hits the boundary walls",
        "Game ends when snake collides with its own body",
        "Game over state is clearly displayed to the player"
      ],
      "file_operations": [
        {
          "path": "frontend/src/utils/collisionDetection.ts",
          "operation": "create",
          "description": "Create utility functions to detect wall collisions (checking if snake head is outside game board boundaries) and self-collision (checking if snake head position matches any body segment position)"
        },
        {
          "path": "frontend/src/components/SnakeGame.tsx",
          "operation": "modify",
          "description": "Integrate collision detection functions into the game loop, set game over state when collision is detected, and stop the game loop on collision"
        },
        {
          "path": "frontend/src/components/GameOverScreen.tsx",
          "operation": "create",
          "description": "Create a game over overlay component that displays when the game ends, showing the final score and game over message with clear typography"
        }
      ]
    },
    {
      "id": "REQ-4",
      "summary": "Display current score that increments with food consumption",
      "acceptanceCriteria": [
        "Score counter is visible during gameplay",
        "Score increases by 1 for each food item eaten",
        "Final score is shown on game over screen"
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/ScoreDisplay.tsx",
          "operation": "create",
          "description": "Create a score display component that shows the current score with clear typography and positioning above or beside the game board"
        },
        {
          "path": "frontend/src/components/SnakeGame.tsx",
          "operation": "modify",
          "description": "Add score state management, increment score when food collision is detected, and pass score to ScoreDisplay component"
        },
        {
          "path": "frontend/src/components/GameOverScreen.tsx",
          "operation": "modify",
          "description": "Add final score display to the game over screen, receiving the score value as a prop and displaying it prominently"
        }
      ]
    },
    {
      "id": "REQ-5",
      "summary": "Add restart functionality to reset the game after game over",
      "acceptanceCriteria": [
        "Restart button or key is available after game over",
        "Restarting resets the snake to initial position and length",
        "Score resets to 0 on restart"
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/GameOverScreen.tsx",
          "operation": "modify",
          "description": "Add a restart button to the game over screen that triggers the restart callback, styled consistently with the game theme"
        },
        {
          "path": "frontend/src/components/SnakeGame.tsx",
          "operation": "modify",
          "description": "Implement restart function that resets snake to initial position and length, resets score to 0, spawns new food, clears game over state, and restarts the game loop"
        },
        {
          "path": "frontend/src/hooks/useKeyboardControls.ts",
          "operation": "modify",
          "description": "Add keyboard listener for restart key (e.g., spacebar or Enter) that triggers restart when game is in game over state"
        }
      ]
    },
    {
      "id": "REQ-6",
      "summary": "Create a visually engaging game interface with a distinct creative theme",
      "acceptanceCriteria": [
        "Game has a consistent visual theme with appropriate colors",
        "Typography is clear and readable for score and game states",
        "Layout effectively presents the game board and UI elements",
        "Overall design creates an engaging gaming atmosphere"
      ],
      "file_operations": [
        {
          "path": "frontend/src/index.css",
          "operation": "modify",
          "description": "Define custom color palette for the game theme using Tailwind CSS custom colors or CSS variables, add game-specific typography styles, and set background styling for the overall gaming atmosphere"
        },
        {
          "path": "frontend/tailwind.config.js",
          "operation": "modify",
          "description": "Extend Tailwind configuration with custom colors for snake, food, game board background, and UI elements to create a cohesive visual theme"
        },
        {
          "path": "frontend/src/components/SnakeGame.tsx",
          "operation": "modify",
          "description": "Apply theme styling to the game canvas/board including background color, snake rendering with themed colors, food rendering with contrasting themed colors, and consistent padding and borders"
        },
        {
          "path": "frontend/src/components/GameLayout.tsx",
          "operation": "create",
          "description": "Create a layout component that wraps the game with a consistent frame, centers the game board, and provides spacing for the score display and other UI elements"
        },
        {
          "path": "frontend/src/App.tsx",
          "operation": "modify",
          "description": "Replace default App content with GameLayout component wrapping SnakeGame and ScoreDisplay, ensuring the game is properly centered and styled"
        }
      ]
    }
  ]
}