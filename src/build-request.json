{
  "kind": "build_request",
  "title": "Add wake-up accountability feature with photo upload for oversleeping",
  "projectName": "Wake Up Warrior",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-7",
      "text": "Create a wake-up time setting interface where users can set their target wake-up time",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-user-final"
        ],
        "quotes": [
          "说好的几点起床"
        ]
      },
      "acceptanceCriteria": [
        "Users can select hours and minutes for their target wake-up time",
        "The selected time is displayed clearly in the interface",
        "Users can modify their wake-up time at any time"
      ]
    },
    {
      "id": "REQ-8",
      "text": "Implement a timer that tracks the current time against the set wake-up time and calculates how many minutes late the user is",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-user-final"
        ],
        "quotes": [
          "多出几分钟"
        ]
      },
      "acceptanceCriteria": [
        "The app continuously checks the current time against the wake-up time",
        "When current time exceeds wake-up time, calculate minutes late",
        "Display the minutes late to the user clearly"
      ]
    },
    {
      "id": "REQ-9",
      "text": "Add photo capture functionality that allows users to take or upload a photo of themselves wearing clothes",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-user-final"
        ],
        "quotes": [
          "上传自己穿上衣服的照片"
        ]
      },
      "acceptanceCriteria": [
        "Users can access device camera to take a photo",
        "Users can alternatively upload an existing photo from their device",
        "Photo preview is shown before final submission",
        "Only one photo is required per wake-up session"
      ]
    },
    {
      "id": "REQ-10",
      "text": "Enforce photo upload requirement when user wakes up late, preventing them from dismissing or continuing until photo is submitted",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-user-final"
        ],
        "quotes": [
          "多出几分钟就要上传自己穿上衣服的照片"
        ]
      },
      "acceptanceCriteria": [
        "If current time exceeds wake-up time by any amount, photo upload becomes mandatory",
        "User cannot proceed or dismiss the requirement without uploading photo",
        "Clear messaging explains why photo is required",
        "After photo submission, user can proceed normally"
      ]
    },
    {
      "id": "REQ-11",
      "text": "Store wake-up time settings and photo submission records in the backend to persist user accountability data",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-user-final"
        ]
      },
      "acceptanceCriteria": [
        "Wake-up times are persisted across sessions",
        "Photo submission records include timestamp and late minutes",
        "Users can view their wake-up history",
        "Data is associated with authenticated users"
      ]
    },
    {
      "id": "REQ-12",
      "text": "Display a history or log showing past wake-up times, whether user was on time or late, and minutes late for each occurrence",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-user-final"
        ]
      },
      "acceptanceCriteria": [
        "Users can view a chronological list of wake-up records",
        "Each record shows the target time, actual wake time, and minutes late",
        "On-time wake-ups are clearly distinguished from late wake-ups",
        "Photo submission status is indicated for late wake-ups"
      ]
    },
    {
      "id": "REQ-13",
      "text": "Integrate Internet Identity authentication to enable multi-user support where each user has their own wake-up settings and photo records",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-user-final"
        ],
        "quotes": [
          "大家避免赖床"
        ]
      },
      "acceptanceCriteria": [
        "Users must authenticate with Internet Identity to use the app",
        "Each user's wake-up settings and history are isolated",
        "Login state persists across sessions",
        "Unauthenticated users are prompted to log in"
      ]
    }
  ],
  "constraints": [
    "Use existing Internet Identity integration from frontend/src/hooks/useInternetIdentity.ts",
    "Store photos as static assets in frontend, not routed through backend",
    "Do not modify immutable frontend paths: frontend/src/hooks/useInternetIdentity.ts, frontend/src/hooks/useActor.ts, frontend/src/main.tsx"
  ],
  "nonGoals": [
    "Actual alarm or notification functionality to wake users",
    "Social features like sharing photos with other users",
    "Image analysis or verification that user is actually dressed",
    "Integration with external calendar or alarm apps",
    "SMS or push notifications"
  ],
  "imageRequirements": {
    "required": [
      "Minimalist alarm clock icon illustration for the wake-up feature (alarm-icon.dim_128x128.png)",
      "Hero banner image with motivational morning theme showing sunrise colors (wake-hero.dim_1200x400.png)"
    ],
    "edits": []
  }
}